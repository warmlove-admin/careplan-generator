<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>照顧計畫敘述產生器（多段落／可編輯）</title>
<style>
:root{ --ink:#0f172a; --muted:#64748b; --line:#e2e8f0; --bg:#f8fafc; }
body{ font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji"; margin:0; background:var(--bg); color:#0b1220; }
.container{ max-width:1200px; margin:0 auto; padding:24px; }
h1{ font-size:24px; margin:0 0 12px; }
p.lead{ color:#475569; margin:0 0 16px; }
.grid{ display:grid; grid-template-columns:360px 1fr; gap:16px; }
@media (max-width:980px){ .grid{ grid-template-columns:1fr; } }
.card{ background:#fff; border:1px solid var(--line); border-radius:14px; box-shadow:0 1px 0 rgba(0,0,0,.03); }
.card h2{ font-size:18px; padding:16px 16px 0; margin:0; }
.card .body{ padding:16px; }
.row{ margin-bottom:12px; }
label.block{ display:block; font-size:14px; color:#334155; margin-bottom:6px; }
input[type="date"],input[type="text"],select,textarea{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid #cbd5e1; background:#fff; box-sizing:border-box; }
textarea{ min-height:120px; font-size:15px; }
.chips{ display:flex; gap:8px; flex-wrap:wrap; }
.chip{ display:inline-flex; align-items:center; gap:8px; border:1px solid #cbd5e1; background:#f8fafc; padding:8px 10px; border-radius:12px; cursor:pointer; user-select:none; }
.chip input{ transform:scale(1.1); }
.seg{ display:flex; gap:8px; flex-wrap:wrap; }
.seg input{ display:none; }
.seg label{ border:1px solid #cbd5e1; padding:8px 12px; border-radius:12px; cursor:pointer; background:#f8fafc; }
.seg input:checked + label{ background:var(--ink); color:#fff; border-color:var(--ink); }
.small{ font-size:12px; color:var(--muted); }
.flex{ display:flex; align-items:center; gap:10px; }
.btn{ padding:10px 14px; border-radius:10px; border:1px solid var(--ink); background:var(--ink); color:#fff; cursor:pointer; }
.btn.secondary{ background:#f1f5f9; color:#0b1220; border-color:#cbd5e1; }
.muted{ color:var(--muted); font-size:12px; }
.sectitle{ font-weight:600; font-size:14px; margin-top:10px; margin-bottom:6px; }
.section-list label{ display:flex; align-items:center; gap:8px; margin:6px 0; }
.divider{ height:1px; background:var(--line); margin:12px 0; }
details{ border:1px solid var(--line); border-radius:12px; padding:10px 12px; background:#fff; }
details + details{ margin-top:10px; }
summary{ font-weight:600; cursor:pointer; outline:0; }
.twocol{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
@media (max-width:760px){ .twocol{ grid-template-columns:1fr; } }
textarea#output{ min-height:420px; border-radius:12px; }
.right-sticky{ position:sticky; top:12px; align-self:start; }
@media (max-width:980px){ .right-sticky{ top:8px; } }
</style>
</head>
<body>
<div class="container">
<h1>照顧計畫敘述產生器（多段落／可編輯）</h1>
<p class="lead">左側勾選或輸入會自動更新右側文字（此版本：首次開啟先產生第1段）。</p>


<div class="grid">
<!-- 左側 -->
<div class="card">
<h2>段落選擇與輸入</h2>
<div class="body">
<div class="sectitle">要生成的段落（可複選）</div>
<div class="section-list">
<label><input type="checkbox" id="sec1" checked> 1. 訪視摘要</label>
<label><input type="checkbox" id="sec2"> 2. 需求與問題評估</label>
<label><input type="checkbox" id="sec3"> 3. 照護目標</label>
<label><input type="checkbox" id="sec4"> 4. 服務計畫</label>
<label><input type="checkbox" id="sec5"> 5. 風險與衛教</label>
<label><input type="checkbox" id="sec6"> 6. 追蹤與回訪</label>
</div>
<div class="divider"></div>


<details open>
<summary>（第1段）訪視摘要</summary>
<div class="row">
<label class="block">訪視日期（西元）</label>
<input id="visitDate" type="date">
<div class="muted">會自動轉民國格式，例如 2025-08-12 → 114/08/12</div>
</div>


<div class="row"><label class="block">受訪對象（可複選）</label><div id="parties" class="chips"></div></div>
<div class="row"><label class="block">意識</label><div class="seg" id="awareness"></div></div>
<div class="row"><label class="block">聽力</label><div class="seg" id="hearing"></div></div>
<div class="row"><label class="block">認知功能</label><div class="seg" id="cognition"></div></div>
<div class="row"><label class="block">是否能切題對談</label><div class="seg" id="onTopic"></div></div>


<div class="row">
<label class="block">疾病史</label>
<div class="flex"><input id="noDisease" type="checkbox"><label for="noDisease" class="small">無疾病史</label></div>
<div id="diseases" class="chips" style="margin-top:6px;"></div>
<div class="row" id="hospitalRow" style="margin-top:8px;">
<label class="block">追蹤醫院（可複選）</label>
<div id="hospitals" class="chips"></div>
</div>
</div>


<div class="row"><label class="block">步態</label><div class="seg" id="gait"></div></div>
</html>